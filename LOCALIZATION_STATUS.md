# –°—Ç–∞—Ç—É—Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ LMS —Å–∏—Å—Ç–µ–º—ã

## –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 6 —Å–µ–Ω—Ç—è–±—Ä—è 2025

---

## üåç –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–∏—Å—Ç–µ–º–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- **–õ–æ–∫–∞–ª—å**: `ru_RU.UTF-8` (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è)
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: `Asia/Dushanbe`
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–°—Ç—Ä–∞–Ω–∞**: –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω (TJ)

---

## üìö Moodle LMS

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–ö–æ–ª–ª–∞—Ü–∏—è**: ru_RU.UTF-8
- **–¢–∏–ø —Å–∏–º–≤–æ–ª–æ–≤**: ru_RU.UTF-8
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ë–î**: Asia/Dushanbe ‚úÖ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –†—É—Å—Å–∫–∏–π (ru)
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: Asia/Dushanbe
- **–°—Ç—Ä–∞–Ω–∞**: –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω (TJ)
- **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è —Ä—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```php
$CFG->lang = 'ru';
$CFG->timezone = 'Asia/Dushanbe';
$CFG->country = 'TJ';
```

---

## üìñ Drupal Digital Library

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–ö–æ–ª–ª–∞—Ü–∏—è**: ru_RU.UTF-8
- **–¢–∏–ø —Å–∏–º–≤–æ–ª–æ–≤**: ru_RU.UTF-8
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ë–î**: Asia/Dushanbe ‚úÖ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –†—É—Å—Å–∫–∏–π (ru)
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: Asia/Dushanbe
- **–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: –†—É—Å—Å–∫–∏–π
- **–ü–µ—Ä–µ–≤–æ–¥—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### Drush –∫–æ–º–∞–Ω–¥—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
```bash
drush language:add ru
drush config:set language.negotiation selected_langcode ru
drush config:set system.site default_langcode ru
drush config:set system.date timezone.default 'Asia/Dushanbe'
```

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ language (–Ø–∑—ã–∫–∏)
- ‚úÖ locale (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–≤–æ–¥–∞)
- ‚úÖ config_translation (–ü–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- ‚úÖ content_translation (–ü–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

---

## üìä –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### Grafana
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: Asia/Dushanbe ‚úÖ
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
  - `GF_DATE_FORMATS_DEFAULT_TIMEZONE=Asia/Dushanbe`
  - `TZ=Asia/Dushanbe`

### –î–∞—à–±–æ—Ä–¥—ã
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤—Å–µ—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤**: Asia/Dushanbe ‚úÖ
- **–§–æ—Ä–º–∞—Ç—ã –≤—Ä–µ–º–µ–Ω–∏**: –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω–∞

### Prometheus
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: –°–∏—Å—Ç–µ–º–Ω—ã–π (Asia/Dushanbe)
- **–ú–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏**: UTC —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –ü–∞—Ä–∞–º–µ—Ç—Ä –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ |
|-----------|------|---------------------|
| System | `/etc/locale.gen` | ru_RU.UTF-8 UTF-8 |
| Moodle DB | PostgreSQL | LC_COLLATE=ru_RU.UTF-8 |
| Drupal DB | PostgreSQL | LC_COLLATE=ru_RU.UTF-8 |
| Moodle App | `config.php` | $CFG->lang='ru' |
| Drupal App | Drush | language:add ru |
| Grafana | Docker env | GF_DATE_FORMATS_DEFAULT_TIMEZONE |

### –ü—Ä–æ—Ü–µ–¥—É—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
1. **01-prepare-system.sh**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ru_RU.UTF-8 –ª–æ–∫–∞–ª–∏
2. **03-install-database.sh**: –°–æ–∑–¥–∞–Ω–∏–µ –ë–î —Å —Ä—É—Å—Å–∫–æ–π –∫–æ–ª–ª–∞—Ü–∏–µ–π
3. **07-configure-*.sh**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

- [x] –°–∏—Å—Ç–µ–º–Ω–∞—è –ª–æ–∫–∞–ª—å ru_RU.UTF-8
- [x] –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å Asia/Dushanbe –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Moodle —Å —Ä—É—Å—Å–∫–æ–π –∫–æ–ª–ª–∞—Ü–∏–µ–π
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Drupal —Å —Ä—É—Å—Å–∫–æ–π –∫–æ–ª–ª–∞—Ü–∏–µ–π
- [x] –†—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Moodle
- [x] –†—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Drupal
- [x] –†—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- [x] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- [x] –í—Å–µ –¥–∞—à–±–æ—Ä–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Asia/Dushanbe

---

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

**‚úÖ –ü–û–õ–ù–ê–Ø –õ–û–ö–ê–õ–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã LMS —Å–∏—Å—Ç–µ–º—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–æ–º –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω–∞ (Asia/Dushanbe).

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π –ª–æ–∫–∞–ª–∏
locale

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
timedatectl

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Moodle
PGPASSWORD='–ø–∞—Ä–æ–ª—å' psql -h localhost -U moodleuser -d moodle -c "SHOW timezone;"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Drupal
PGPASSWORD='–ø–∞—Ä–æ–ª—å' psql -h localhost -U drupaluser -d drupal_library -c "SHOW timezone;"
```

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏—Å—Ç–µ–º–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ LMS*
